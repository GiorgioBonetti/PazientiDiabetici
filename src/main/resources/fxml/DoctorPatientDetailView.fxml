<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox spacing="16" style="-fx-padding: 16 24 24 24;" xmlns="http://javafx.com/javafx/17.0.12"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="it.univr.diabete.controller.DoctorPatientDetailController"><!-- Titolo -->
    <VBox spacing="4">
        <Label styleClass="page-title" text="Scheda paziente"/>
        <Label fx:id="patientNameLabel" styleClass="page-subtitle" text="Nome Cognome"/>
    </VBox>

    <!-- Card dati paziente -->
    <VBox spacing="12" styleClass="card">
        <HBox alignment="CENTER_LEFT" spacing="8" styleClass="card-header">
            <Label styleClass="card-title" text="Dati anagrafici"/>
        </HBox>

        <GridPane hgap="16" style="-fx-padding: 12 16 16 16;" vgap="10">
            <columnConstraints>
                <ColumnConstraints percentWidth="25"/>
                <ColumnConstraints percentWidth="25"/>
                <ColumnConstraints percentWidth="25"/>
                <ColumnConstraints percentWidth="25"/>
            </columnConstraints>

            <!-- Riga 1 -->
            <rowConstraints>
                <RowConstraints/>
                <RowConstraints/>
                <RowConstraints/>
                <RowConstraints/>
            </rowConstraints>
            <Label styleClass="field-label" text="Nome" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
            <TextField fx:id="nomeField" styleClass="field-control" GridPane.columnIndex="0"
                       GridPane.rowIndex="1"/>

            <Label styleClass="field-label" text="Cognome" GridPane.columnIndex="1" GridPane.rowIndex="0"/>
            <TextField fx:id="cognomeField" styleClass="field-control" GridPane.columnIndex="1"
                       GridPane.rowIndex="1"/>

            <Label styleClass="field-label" text="Email" GridPane.columnIndex="2" GridPane.rowIndex="0"/>
            <TextField fx:id="emailField" styleClass="field-control" GridPane.columnIndex="2"
                       GridPane.rowIndex="1"/>

            <Label styleClass="field-label" text="Telefono" GridPane.columnIndex="3" GridPane.rowIndex="0"/>
            <TextField fx:id="telefonoField" styleClass="field-control" GridPane.columnIndex="3"
                       GridPane.rowIndex="1"/>

            <!-- Riga 2 -->
            <Label styleClass="field-label" text="Data di nascita" GridPane.columnIndex="0"
                   GridPane.rowIndex="2"/>
            <DatePicker fx:id="dataNascitaPicker" styleClass="field-control" GridPane.columnIndex="0"
                        GridPane.rowIndex="3"/>

            <Label styleClass="field-label" text="Sesso" GridPane.columnIndex="1" GridPane.rowIndex="2"/>
            <ChoiceBox fx:id="sessoChoice" prefHeight="26.0" prefWidth="84.0" styleClass="field-control"
                       GridPane.columnIndex="1" GridPane.rowIndex="3"/>

            <Label styleClass="field-label" text="Codice fiscale" GridPane.columnIndex="2"
                   GridPane.rowIndex="2"/>
            <TextField fx:id="codiceFiscaleField" styleClass="field-control" GridPane.columnIndex="2"
                       GridPane.rowIndex="3"/>

            <Label styleClass="field-label" text="Password (iniziale)" GridPane.columnIndex="3"
                   GridPane.rowIndex="2"/>
            <PasswordField fx:id="passwordField" styleClass="field-control" GridPane.columnIndex="3"
                           GridPane.rowIndex="3"/>
        </GridPane>
    </VBox>

    <!-- Patologie -->
    <VBox spacing="12" styleClass="card">
        <HBox alignment="CENTER_LEFT" spacing="8" styleClass="card-header">
            <Label styleClass="card-title" text="Patologie note"/>
            <Pane HBox.hgrow="ALWAYS"/>
            <Button fx:id="addPatologiaButton" onAction="#handleAddPatologia" styleClass="btn-ghost"
                    text="+ Aggiungi patologia"/>
        </HBox>

        <VBox spacing="6" style="-fx-padding: 12 16 16 16;">
            <FlowPane fx:id="patologieContainer" hgap="8" vgap="8"/>
            <Label fx:id="patologieEmptyLabel" styleClass="page-subtitle" text="Nessuna patologia registrata"/>
        </VBox>
    </VBox>

    <!-- Pulsanti -->
    <HBox alignment="CENTER_RIGHT" spacing="8">
        <Button onAction="#handleCancelChanges" styleClass="btn-ghost" text="Annulla"/>
        <Button onAction="#handleSave" styleClass="btn-primary" text="Salva modifiche"/>
    </HBox>

</VBox>
